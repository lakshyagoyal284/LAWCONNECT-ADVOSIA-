{"ast":null,"code":"import _objectSpread from\"C:/Users/laksh/Desktop/ASEP FINAL/lawconnect/deploy-ready/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Container,Card,Button,Row,Col,Badge,ListGroup,Alert,Spinner,Modal,Form}from'react-bootstrap';import{useParams,useNavigate}from'react-router-dom';import{caseService,bidService}from'../services/api';import{useAuth}from'../context/AuthContext';import WorkingChatComponent from'../components/chat/WorkingChatComponent';import DevPaymentModal from'../components/payment/DevPaymentModal';import{paymentService}from'../services/paymentService';import{MessageSquare,CreditCard,Lock}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CaseDetailPage=()=>{const{id}=useParams();const navigate=useNavigate();const{user}=useAuth();const[caseData,setCaseData]=useState(null);const[bids,setBids]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[acceptedBid,setAcceptedBid]=useState(null);const[showBidModal,setShowBidModal]=useState(false);const[showChatModal,setShowChatModal]=useState(false);const[showPaymentModal,setShowPaymentModal]=useState(false);const[hasChatAccess,setHasChatAccess]=useState(false);const[checkingAccess,setCheckingAccess]=useState(false);const[bidForm,setBidForm]=useState({amount:'',message:''});useEffect(()=>{fetchCaseDetails();fetchBids();},[id]);const fetchCaseDetails=async()=>{try{setLoading(true);const response=await caseService.getById(id);setCaseData(response.data);}catch(err){setError('Failed to fetch case details');console.error(err);}finally{setLoading(false);}};const fetchBids=async()=>{try{const response=await bidService.getByCase(id);console.log('Bids data:',response.data);setBids(response.data);// Check if there's already an accepted bid\nconst existingAccepted=response.data.find(bid=>bid.status==='accepted');if(existingAccepted){console.log('Found existing accepted bid:',existingAccepted);setAcceptedBid(existingAccepted);}}catch(err){console.error('Failed to fetch bids:',err);}};const handleDeleteCase=async()=>{if(window.confirm('Are you sure you want to delete this case?')){try{await caseService.delete(id);navigate('/cases');}catch(err){setError('Failed to delete case');console.error(err);}}};const handleBidSubmit=async e=>{e.preventDefault();setError('');if(!bidForm.amount||!bidForm.message){setError('Please fill in all bid fields');return;}try{await bidService.create({case_id:id,amount:parseFloat(bidForm.amount),message:bidForm.message});setShowBidModal(false);setBidForm({amount:'',message:''});fetchBids();// Refresh bids list\n}catch(err){setError('Failed to submit bid');console.error(err);}};const handleAcceptBid=async bidId=>{try{await bidService.accept(bidId);// Find the accepted bid\nconst accepted=bids.find(bid=>bid.id===bidId);console.log('Accepted bid:',accepted);setAcceptedBid(accepted);fetchCaseDetails();// Refresh case details\nfetchBids();// Refresh bids\nsetError('');}catch(err){var _err$response,_err$response$data;setError('Failed to accept bid: '+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message));console.error(err);}};const checkChatAccess=async()=>{if(!acceptedBid||(user===null||user===void 0?void 0:user.role)!=='client'){setHasChatAccess(true);// Lawyers don't need to pay\nreturn;}try{setCheckingAccess(true);const response=await paymentService.checkChatAccess(id);setHasChatAccess(response.data.hasChatAccess);}catch(error){console.error('Error checking chat access:',error);setHasChatAccess(false);}finally{setCheckingAccess(false);}};const handleChatClick=()=>{if((user===null||user===void 0?void 0:user.role)==='client'&&!hasChatAccess){setShowPaymentModal(true);}else{setShowChatModal(true);}};const handlePaymentSuccess=()=>{setHasChatAccess(true);setShowPaymentModal(false);setShowChatModal(true);};// Check chat access when accepted bid changes\nuseEffect(()=>{if(acceptedBid){checkChatAccess();}},[acceptedBid]);const getStatusBadge=status=>{const variant={'open':'primary','in_progress':'warning','closed':'success'}[status]||'secondary';return/*#__PURE__*/_jsx(Badge,{bg:variant,children:status.replace('_',' ').toUpperCase()});};if(loading){return/*#__PURE__*/_jsxs(Container,{className:\"py-4 text-center\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"Loading case details...\"})]});}if(error){return/*#__PURE__*/_jsxs(Container,{className:\"py-4\",children:[/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",onClick:()=>navigate('/cases'),children:\"Back to Cases\"})]});}if(!caseData){return/*#__PURE__*/_jsxs(Container,{className:\"py-4\",children:[/*#__PURE__*/_jsx(Alert,{variant:\"info\",children:\"Case not found\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",onClick:()=>navigate('/cases'),children:\"Back to Cases\"})]});}return/*#__PURE__*/_jsxs(Container,{className:\"py-4\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",onClick:()=>navigate(-1),className:\"mb-3\",children:\"\\u2190 Back to Cases\"}),/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[caseData.title,\" \",/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"#\",caseData.id]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 mb-2\",children:[getStatusBadge(caseData.status),/*#__PURE__*/_jsx(Badge,{bg:\"info\",className:\"fs-6\",children:caseData.category})]})]}),((user===null||user===void 0?void 0:user.role)==='admin'||caseData.user_id===(user===null||user===void 0?void 0:user.id))&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",children:\"Edit Case\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:handleDeleteCase,children:\"Delete\"})]})]}),/*#__PURE__*/_jsx(Card.Text,{className:\"mb-4\",children:caseData.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-muted small\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Opened on:\"}),\" \",new Date(caseData.created_at).toLocaleDateString(),caseData.updated_at!==caseData.created_at&&/*#__PURE__*/_jsxs(\"span\",{className:\"ms-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Last updated:\"}),\" \",new Date(caseData.updated_at).toLocaleDateString()]})]})]})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{lg:8,children:[/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Case Information\"}),/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Category:\"}),\" \",caseData.category]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",getStatusBadge(caseData.status)]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Created:\"}),\" \",new Date(caseData.created_at).toLocaleDateString()]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Budget:\"}),\" \",caseData.currency,\" \",parseFloat(caseData.budget||0).toLocaleString()]}),caseData.updated_at!==caseData.created_at&&/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Last Updated:\"}),\" \",new Date(caseData.updated_at).toLocaleDateString()]})]})]})}),bids.length>0&&/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Title,{children:[\"Bids (\",bids.length,\")\"]}),/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:bids.map(bid=>/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:bid.lawyer_name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted small\",children:bid.lawyer_email}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-success fw-bold\",children:[bid.currency||'USD',\" \",bid.amount]}),/*#__PURE__*/_jsx(\"div\",{className:\"small mt-2\",children:bid.message}),/*#__PURE__*/_jsx(Badge,{bg:bid.status==='accepted'?'success':bid.status==='rejected'?'danger':'primary',children:bid.status.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 flex-column\",children:[(user===null||user===void 0?void 0:user.role)==='client'&&caseData.user_id===(user===null||user===void 0?void 0:user.id)&&caseData.status==='open'&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[bid.status==='pending'&&/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"success\",onClick:()=>handleAcceptBid(bid.id),children:\"Accept\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline-danger\",onClick:()=>bidService.reject(bid.id),children:\"Reject\"})]}),bid.status==='accepted'&&/*#__PURE__*/_jsxs(Button,{size:\"sm\",variant:\"primary\",onClick:handleChatClick,disabled:checkingAccess,className:\"d-flex align-items-center\",children:[checkingAccess?/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"sm\",className:\"me-1\"}):(user===null||user===void 0?void 0:user.role)==='client'&&!hasChatAccess?/*#__PURE__*/_jsx(CreditCard,{size:14,className:\"me-1\"}):/*#__PURE__*/_jsx(MessageSquare,{size:14,className:\"me-1\"}),(user===null||user===void 0?void 0:user.role)==='client'&&!hasChatAccess?'Pay to Chat (₹150)':'Chat']})]})]},bid.id))})]})})]}),/*#__PURE__*/_jsxs(Col,{lg:4,children:[/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-2\",children:[(user===null||user===void 0?void 0:user.role)==='client'&&caseData.status==='open'&&/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:()=>setShowBidModal(true),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-chat-left-text me-2\"}),\"View Bids\"]}),(user===null||user===void 0?void 0:user.role)==='lawyer'&&caseData.status==='open'&&/*#__PURE__*/_jsxs(Button,{variant:\"success\",onClick:()=>setShowBidModal(true),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-hand-thumbs-up me-2\"}),\"Submit Bid\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-download me-2\"}),\"Download Case Details\"]}),((user===null||user===void 0?void 0:user.role)==='admin'||caseData.user_id===(user===null||user===void 0?void 0:user.id))&&caseData.status!=='closed'&&/*#__PURE__*/_jsxs(Button,{variant:\"outline-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-circle me-2\"}),\"Close Case\"]})]})]})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Quick Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"small text-muted\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Case ID:\"}),\" #\",caseData.id]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Type:\"}),\" \",caseData.category]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",caseData.status.replace('_',' ').toUpperCase()]})]})]})})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showBidModal,onHide:()=>setShowBidModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:(user===null||user===void 0?void 0:user.role)==='lawyer'?'Submit Bid':'View Bids'})}),/*#__PURE__*/_jsx(Modal.Body,{children:(user===null||user===void 0?void 0:user.role)==='lawyer'?/*#__PURE__*/_jsxs(Form,{onSubmit:handleBidSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Bid Amount (\",caseData.currency||'USD',\")*\"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",step:\"0.01\",min:\"1\",name:\"amount\",value:bidForm.amount,onChange:e=>setBidForm(_objectSpread(_objectSpread({},bidForm),{},{amount:e.target.value})),placeholder:\"Enter your bid amount in \".concat(caseData.currency||'USD'),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Bid Message *\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:4,name:\"message\",value:bidForm.message,onChange:e=>setBidForm(_objectSpread(_objectSpread({},bidForm),{},{message:e.target.value})),placeholder:\"Describe your approach and experience...\",required:true})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit Bid\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"All Bids for this Case:\"}),bids.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"No bids submitted yet.\"}):/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:bids.map(bid=>/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:bid.lawyer_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-success\",children:[\"$\",bid.amount]}),/*#__PURE__*/_jsx(\"div\",{className:\"small\",children:bid.message})]},bid.id))})]})})]}),/*#__PURE__*/_jsxs(Modal,{show:showChatModal,onHide:()=>setShowChatModal(false),size:\"lg\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[/*#__PURE__*/_jsx(MessageSquare,{size:20,className:\"me-2\"}),\"Chat - \",caseData===null||caseData===void 0?void 0:caseData.title]})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"p-0\",children:acceptedBid?/*#__PURE__*/_jsx(WorkingChatComponent,{caseId:id,caseTitle:caseData===null||caseData===void 0?void 0:caseData.title,receiverId:(user===null||user===void 0?void 0:user.role)==='client'?acceptedBid.lawyer_id:caseData===null||caseData===void 0?void 0:caseData.user_id,receiverName:(user===null||user===void 0?void 0:user.role)==='client'?acceptedBid.lawyer_name:(caseData===null||caseData===void 0?void 0:caseData.client_name)||'Client'}):/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 text-center text-muted\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No accepted bid found for chat.\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Please accept a bid to start chatting.\"})]})})]}),/*#__PURE__*/_jsx(DevPaymentModal,{show:showPaymentModal,onHide:()=>setShowPaymentModal(false),caseId:id,bidId:acceptedBid===null||acceptedBid===void 0?void 0:acceptedBid.id,caseTitle:caseData===null||caseData===void 0?void 0:caseData.title,onPaymentSuccess:handlePaymentSuccess})]});};export default CaseDetailPage;","map":{"version":3,"names":["React","useState","useEffect","Container","Card","Button","Row","Col","Badge","ListGroup","Alert","Spinner","Modal","Form","useParams","useNavigate","caseService","bidService","useAuth","WorkingChatComponent","DevPaymentModal","paymentService","MessageSquare","CreditCard","Lock","jsx","_jsx","jsxs","_jsxs","CaseDetailPage","id","navigate","user","caseData","setCaseData","bids","setBids","loading","setLoading","error","setError","acceptedBid","setAcceptedBid","showBidModal","setShowBidModal","showChatModal","setShowChatModal","showPaymentModal","setShowPaymentModal","hasChatAccess","setHasChatAccess","checkingAccess","setCheckingAccess","bidForm","setBidForm","amount","message","fetchCaseDetails","fetchBids","response","getById","data","err","console","getByCase","log","existingAccepted","find","bid","status","handleDeleteCase","window","confirm","delete","handleBidSubmit","e","preventDefault","create","case_id","parseFloat","handleAcceptBid","bidId","accept","accepted","_err$response","_err$response$data","checkChatAccess","role","handleChatClick","handlePaymentSuccess","getStatusBadge","variant","bg","children","replace","toUpperCase","className","animation","onClick","Body","title","category","user_id","size","Text","description","Date","created_at","toLocaleDateString","updated_at","lg","Title","Item","currency","budget","toLocaleString","length","map","lawyer_name","lawyer_email","reject","disabled","show","onHide","Header","closeButton","onSubmit","Group","Label","Control","type","step","min","name","value","onChange","_objectSpread","target","placeholder","concat","required","as","rows","centered","caseId","caseTitle","receiverId","lawyer_id","receiverName","client_name","onPaymentSuccess"],"sources":["C:/Users/laksh/Desktop/ASEP FINAL/lawconnect/deploy-ready/frontend/src/pages/CaseDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Container, Card, Button, Row, Col, Badge, ListGroup, Alert, Spinner, Modal, Form } from 'react-bootstrap';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { caseService, bidService } from '../services/api';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport WorkingChatComponent from '../components/chat/WorkingChatComponent';\r\nimport DevPaymentModal from '../components/payment/DevPaymentModal';\r\nimport { paymentService } from '../services/paymentService';\r\nimport { MessageSquare, CreditCard, Lock } from 'lucide-react';\r\n\r\nconst CaseDetailPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  \r\n  const [caseData, setCaseData] = useState(null);\r\n  const [bids, setBids] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [acceptedBid, setAcceptedBid] = useState(null);\r\n  const [showBidModal, setShowBidModal] = useState(false);\r\n  const [showChatModal, setShowChatModal] = useState(false);\r\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\r\n  const [hasChatAccess, setHasChatAccess] = useState(false);\r\n  const [checkingAccess, setCheckingAccess] = useState(false);\r\n  const [bidForm, setBidForm] = useState({\r\n    amount: '',\r\n    message: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchCaseDetails();\r\n    fetchBids();\r\n  }, [id]);\r\n\r\n  const fetchCaseDetails = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await caseService.getById(id);\r\n      setCaseData(response.data);\r\n    } catch (err) {\r\n      setError('Failed to fetch case details');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchBids = async () => {\r\n    try {\r\n      const response = await bidService.getByCase(id);\r\n      console.log('Bids data:', response.data);\r\n      setBids(response.data);\r\n      \r\n      // Check if there's already an accepted bid\r\n      const existingAccepted = response.data.find(bid => bid.status === 'accepted');\r\n      if (existingAccepted) {\r\n        console.log('Found existing accepted bid:', existingAccepted);\r\n        setAcceptedBid(existingAccepted);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch bids:', err);\r\n    }\r\n  };\r\n\r\n  const handleDeleteCase = async () => {\r\n    if (window.confirm('Are you sure you want to delete this case?')) {\r\n      try {\r\n        await caseService.delete(id);\r\n        navigate('/cases');\r\n      } catch (err) {\r\n        setError('Failed to delete case');\r\n        console.error(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBidSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    \r\n    if (!bidForm.amount || !bidForm.message) {\r\n      setError('Please fill in all bid fields');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await bidService.create({\r\n        case_id: id,\r\n        amount: parseFloat(bidForm.amount),\r\n        message: bidForm.message\r\n      });\r\n      \r\n      setShowBidModal(false);\r\n      setBidForm({ amount: '', message: '' });\r\n      fetchBids(); // Refresh bids list\r\n    } catch (err) {\r\n      setError('Failed to submit bid');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleAcceptBid = async (bidId) => {\r\n    try {\r\n      await bidService.accept(bidId);\r\n      \r\n      // Find the accepted bid\r\n      const accepted = bids.find(bid => bid.id === bidId);\r\n      console.log('Accepted bid:', accepted);\r\n      setAcceptedBid(accepted);\r\n      \r\n      fetchCaseDetails(); // Refresh case details\r\n      fetchBids(); // Refresh bids\r\n      setError('');\r\n    } catch (err) {\r\n      setError('Failed to accept bid: ' + (err.response?.data?.message || err.message));\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const checkChatAccess = async () => {\r\n    if (!acceptedBid || user?.role !== 'client') {\r\n      setHasChatAccess(true); // Lawyers don't need to pay\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setCheckingAccess(true);\r\n      const response = await paymentService.checkChatAccess(id);\r\n      setHasChatAccess(response.data.hasChatAccess);\r\n    } catch (error) {\r\n      console.error('Error checking chat access:', error);\r\n      setHasChatAccess(false);\r\n    } finally {\r\n      setCheckingAccess(false);\r\n    }\r\n  };\r\n\r\n  const handleChatClick = () => {\r\n    if (user?.role === 'client' && !hasChatAccess) {\r\n      setShowPaymentModal(true);\r\n    } else {\r\n      setShowChatModal(true);\r\n    }\r\n  };\r\n\r\n  const handlePaymentSuccess = () => {\r\n    setHasChatAccess(true);\r\n    setShowPaymentModal(false);\r\n    setShowChatModal(true);\r\n  };\r\n\r\n  // Check chat access when accepted bid changes\r\n  useEffect(() => {\r\n    if (acceptedBid) {\r\n      checkChatAccess();\r\n    }\r\n  }, [acceptedBid]);\r\n\r\n  const getStatusBadge = (status) => {\r\n    const variant = {\r\n      'open': 'primary',\r\n      'in_progress': 'warning',\r\n      'closed': 'success'\r\n    }[status] || 'secondary';\r\n    \r\n    return <Badge bg={variant}>{status.replace('_', ' ').toUpperCase()}</Badge>;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container className=\"py-4 text-center\">\r\n        <Spinner animation=\"border\" />\r\n        <p className=\"mt-2\">Loading case details...</p>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container className=\"py-4\">\r\n        <Alert variant=\"danger\">{error}</Alert>\r\n        <Button variant=\"outline-secondary\" onClick={() => navigate('/cases')}>\r\n          Back to Cases\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (!caseData) {\r\n    return (\r\n      <Container className=\"py-4\">\r\n        <Alert variant=\"info\">Case not found</Alert>\r\n        <Button variant=\"outline-secondary\" onClick={() => navigate('/cases')}>\r\n          Back to Cases\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container className=\"py-4\">\r\n      <Button variant=\"outline-secondary\" onClick={() => navigate(-1)} className=\"mb-3\">\r\n        ← Back to Cases\r\n      </Button>\r\n      \r\n      <Card className=\"mb-4\">\r\n        <Card.Body>\r\n          <div className=\"d-flex justify-content-between align-items-start mb-3\">\r\n            <div>\r\n              <h2>{caseData.title} <small className=\"text-muted\">#{caseData.id}</small></h2>\r\n              <div className=\"d-flex gap-2 mb-2\">\r\n                {getStatusBadge(caseData.status)}\r\n                <Badge bg=\"info\" className=\"fs-6\">{caseData.category}</Badge>\r\n              </div>\r\n            </div>\r\n            {(user?.role === 'admin' || caseData.user_id === user?.id) && (\r\n              <div className=\"d-flex gap-2\">\r\n                <Button variant=\"outline-primary\" size=\"sm\">\r\n                  Edit Case\r\n                </Button>\r\n                <Button variant=\"outline-danger\" size=\"sm\" onClick={handleDeleteCase}>\r\n                  Delete\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          <Card.Text className=\"mb-4\">\r\n            {caseData.description}\r\n          </Card.Text>\r\n          \r\n          <div className=\"text-muted small\">\r\n            <strong>Opened on:</strong> {new Date(caseData.created_at).toLocaleDateString()}\r\n            {caseData.updated_at !== caseData.created_at && (\r\n              <span className=\"ms-3\">\r\n                <strong>Last updated:</strong> {new Date(caseData.updated_at).toLocaleDateString()}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      <Row>\r\n        <Col lg={8}>\r\n          <Card className=\"mb-4\">\r\n            <Card.Body>\r\n              <Card.Title>Case Information</Card.Title>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <strong>Category:</strong> {caseData.category}\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <strong>Status:</strong> {getStatusBadge(caseData.status)}\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <strong>Created:</strong> {new Date(caseData.created_at).toLocaleDateString()}\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <strong>Budget:</strong> {caseData.currency} {parseFloat(caseData.budget || 0).toLocaleString()}\r\n                </ListGroup.Item>\r\n                {caseData.updated_at !== caseData.created_at && (\r\n                  <ListGroup.Item>\r\n                    <strong>Last Updated:</strong> {new Date(caseData.updated_at).toLocaleDateString()}\r\n                  </ListGroup.Item>\r\n                )}\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          {bids.length > 0 && (\r\n            <Card className=\"mb-4\">\r\n              <Card.Body>\r\n                <Card.Title>Bids ({bids.length})</Card.Title>\r\n                <ListGroup variant=\"flush\">\r\n                  {bids.map((bid) => (\r\n                    <ListGroup.Item key={bid.id} className=\"d-flex justify-content-between align-items-center\">\r\n                      <div>\r\n                        <div className=\"fw-bold\">{bid.lawyer_name}</div>\r\n                        <div className=\"text-muted small\">{bid.lawyer_email}</div>\r\n                        <div className=\"text-success fw-bold\">{bid.currency || 'USD'} {bid.amount}</div>\r\n                        <div className=\"small mt-2\">{bid.message}</div>\r\n                        <Badge bg={\r\n                          bid.status === 'accepted' ? 'success' : \r\n                          bid.status === 'rejected' ? 'danger' : 'primary'\r\n                        }>\r\n                          {bid.status.toUpperCase()}\r\n                        </Badge>\r\n                      </div>\r\n                      <div className=\"d-flex gap-2 flex-column\">\r\n                        {user?.role === 'client' && caseData.user_id === user?.id && caseData.status === 'open' && (\r\n                          <div className=\"d-flex gap-2\">\r\n                            {bid.status === 'pending' && (\r\n                              <Button \r\n                                size=\"sm\" \r\n                                variant=\"success\"\r\n                                onClick={() => handleAcceptBid(bid.id)}\r\n                              >\r\n                                Accept\r\n                              </Button>\r\n                            )}\r\n                            <Button \r\n                              size=\"sm\" \r\n                              variant=\"outline-danger\"\r\n                              onClick={() => bidService.reject(bid.id)}\r\n                            >\r\n                              Reject\r\n                            </Button>\r\n                          </div>\r\n                        )}\r\n                        {/* Chat button - show for accepted bids */}\r\n                        {bid.status === 'accepted' && (\r\n                          <Button \r\n                            size=\"sm\" \r\n                            variant=\"primary\"\r\n                            onClick={handleChatClick}\r\n                            disabled={checkingAccess}\r\n                            className=\"d-flex align-items-center\"\r\n                          >\r\n                            {checkingAccess ? (\r\n                              <Spinner animation=\"border\" size=\"sm\" className=\"me-1\" />\r\n                            ) : user?.role === 'client' && !hasChatAccess ? (\r\n                              <CreditCard size={14} className=\"me-1\" />\r\n                            ) : (\r\n                              <MessageSquare size={14} className=\"me-1\" />\r\n                            )}\r\n                            {user?.role === 'client' && !hasChatAccess ? 'Pay to Chat (₹150)' : 'Chat'}\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              </Card.Body>\r\n            </Card>\r\n          )}\r\n        </Col>\r\n        \r\n        <Col lg={4}>\r\n          <Card className=\"mb-4\">\r\n            <Card.Body>\r\n              <Card.Title>Actions</Card.Title>\r\n              <div className=\"d-grid gap-2\">\r\n                {user?.role === 'client' && caseData.status === 'open' && (\r\n                  <Button variant=\"primary\" onClick={() => setShowBidModal(true)}>\r\n                    <i className=\"bi bi-chat-left-text me-2\"></i>View Bids\r\n                  </Button>\r\n                )}\r\n                {user?.role === 'lawyer' && caseData.status === 'open' && (\r\n                  <Button variant=\"success\" onClick={() => setShowBidModal(true)}>\r\n                    <i className=\"bi bi-hand-thumbs-up me-2\"></i>Submit Bid\r\n                  </Button>\r\n                )}\r\n                <Button variant=\"outline-secondary\">\r\n                  <i className=\"bi bi-download me-2\"></i>Download Case Details\r\n                </Button>\r\n                {(user?.role === 'admin' || caseData.user_id === user?.id) && caseData.status !== 'closed' && (\r\n                  <Button variant=\"outline-danger\">\r\n                    <i className=\"bi bi-x-circle me-2\"></i>Close Case\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n          \r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Quick Info</Card.Title>\r\n              <div className=\"small text-muted\">\r\n                <p className=\"mb-2\">\r\n                  <strong>Case ID:</strong> #{caseData.id}\r\n                </p>\r\n                <p className=\"mb-2\">\r\n                  <strong>Type:</strong> {caseData.category}\r\n                </p>\r\n                <p className=\"mb-0\">\r\n                  <strong>Status:</strong> {caseData.status.replace('_', ' ').toUpperCase()}\r\n                </p>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Bid Modal */}\r\n      <Modal show={showBidModal} onHide={() => setShowBidModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            {user?.role === 'lawyer' ? 'Submit Bid' : 'View Bids'}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {user?.role === 'lawyer' ? (\r\n            <Form onSubmit={handleBidSubmit}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Bid Amount ({caseData.currency || 'USD'})*</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  step=\"0.01\"\r\n                  min=\"1\"\r\n                  name=\"amount\"\r\n                  value={bidForm.amount}\r\n                  onChange={(e) => setBidForm({...bidForm, amount: e.target.value})}\r\n                  placeholder={`Enter your bid amount in ${caseData.currency || 'USD'}`}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n              \r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Bid Message *</Form.Label>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  rows={4}\r\n                  name=\"message\"\r\n                  value={bidForm.message}\r\n                  onChange={(e) => setBidForm({...bidForm, message: e.target.value})}\r\n                  placeholder=\"Describe your approach and experience...\"\r\n                  required\r\n                />\r\n              </Form.Group>\r\n              \r\n              <Button variant=\"primary\" type=\"submit\">\r\n                Submit Bid\r\n              </Button>\r\n            </Form>\r\n          ) : (\r\n            <div>\r\n              <h5>All Bids for this Case:</h5>\r\n              {bids.length === 0 ? (\r\n                <p className=\"text-muted\">No bids submitted yet.</p>\r\n              ) : (\r\n                <ListGroup variant=\"flush\">\r\n                  {bids.map((bid) => (\r\n                    <ListGroup.Item key={bid.id}>\r\n                      <div className=\"fw-bold\">{bid.lawyer_name}</div>\r\n                      <div className=\"text-success\">${bid.amount}</div>\r\n                      <div className=\"small\">{bid.message}</div>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              )}\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      {/* Chat Modal */}\r\n      <Modal \r\n        show={showChatModal} \r\n        onHide={() => setShowChatModal(false)}\r\n        size=\"lg\"\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            <MessageSquare size={20} className=\"me-2\" />\r\n            Chat - {caseData?.title}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className=\"p-0\">\r\n          {acceptedBid ? (\r\n            <WorkingChatComponent\r\n              caseId={id}\r\n              caseTitle={caseData?.title}\r\n              receiverId={user?.role === 'client' ? acceptedBid.lawyer_id : caseData?.user_id}\r\n              receiverName={user?.role === 'client' ? acceptedBid.lawyer_name : caseData?.client_name || 'Client'}\r\n            />\r\n          ) : (\r\n            <div className=\"p-4 text-center text-muted\">\r\n              <p>No accepted bid found for chat.</p>\r\n              <small>Please accept a bid to start chatting.</small>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      {/* Payment Modal */}\r\n      <DevPaymentModal\r\n        show={showPaymentModal}\r\n        onHide={() => setShowPaymentModal(false)}\r\n        caseId={id}\r\n        bidId={acceptedBid?.id}\r\n        caseTitle={caseData?.title}\r\n        onPaymentSuccess={handlePaymentSuccess}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CaseDetailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}